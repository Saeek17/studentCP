<!DOCTYPE html>
<html>
  <head>
    <title>Dashboard</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <!-- SIDEBAR -->
    <div id="sidebar"></div>
    <script>
      if (localStorage.getItem("isAdmin") !== "true") {
        window.location.href = "index.html";
      }

      fetch("sidebar.html")
        .then((res) => res.text())
        .then((html) => (document.getElementById("sidebar").innerHTML = html));
    </script>

    <div class="main-content">
      <h2>Dashboard</h2>

      <!-- BASIC STATS (Total students, Year counts) -->
      <div id="dashboard"></div>

      <!-- YEAR-WISE TOPPERS -->
      <h3>Year-wise Toppers</h3>
      <div id="toppers"></div>

      <h3>Low Attendance Alerts (Below 75%)</h3>
      <div id="lowAttendance"></div>

      <!-- ATTENDANCE BAR CHART -->
      <h3 id="charts">Attendance Analytics</h3>
      <canvas id="attendanceChart" width="400" height="200"></canvas>

      <!-- PASS / FAIL PIE CHARTS -->
      <h3>Pass/Fail Analysis (Year-wise)</h3>

      <div class="chart-grid">
        <div>
          <h4>FY</h4>
          <canvas id="pf1"></canvas>
        </div>

        <div>
          <h4>SY</h4>
          <canvas id="pf2"></canvas>
        </div>

        <div>
          <h4>TY</h4>
          <canvas id="pf3"></canvas>
        </div>

        <div>
          <h4>LY</h4>
          <canvas id="pf4"></canvas>
        </div>
      </div>
    </div>

    <!-- CHART JS -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
  </body>
</html>
